#include "main.h"
#include <stdlib.h>

#define BUFFER_SIZE 1024

char *_geline(void)
{
	static char buffer[BUFFER_SIZE];
	int pos = 0;
	int size = 0;
	
	char *line = NULL;
	int line_pos = 0;

	while (1)
	{
		if (pos >= size)
		{
			pos = 0;
			size = read(STDIN_FILENO, buffer, BUFFER_SIZE);
			if (size == 0)
			{
				if (line_pos == 0)
					return (NULL);
					break;
			}
			if (size == -1)
			{
				perror("read");
				exit(EXIT_FAILURE);
			}
			while (pos < size)
			{
				if (buffer[pos] == '\n')
				{
					pos++
					break;
				}
				if (line_pos = 0)
				{
					line = malloc(BUFFER_SIZE);
				}
				else if (line_pos % BUFFER_SIZE == 0)
				{
					line = realloc(line, line_pos + BUFFER_SIZE);
				}
				if (line == NULL)
				{
					perror("malloc/realloc");
					exit(EXIT_FAILURE);
				}
				line[line_pos++] = buffer[pos++];
			}

